<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reducing Noise &mdash; Blender Manual</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/version_switch.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="canonical" href="https://docs.blender.org/manual/en/latest/render/cycles/optimizations/reducing_noise.html" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/js/version_switch.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Blender Manual"
          href="../../../_static/opensearch.xml"/>
    <link rel="alternate" hreflang="en" href="https://docs.blender.org/manual/en/latest/" />
    <link rel="alternate" hreflang="ar" href="https://docs.blender.org/manual/ar/latest/" />
    <link rel="alternate" hreflang="de" href="https://docs.blender.org/manual/de/latest/" />
    <link rel="alternate" hreflang="es" href="https://docs.blender.org/manual/es/latest/" />
    <link rel="alternate" hreflang="fi" href="https://docs.blender.org/manual/fi/latest/" />
    <link rel="alternate" hreflang="fr" href="https://docs.blender.org/manual/fr/latest/" />
    <link rel="alternate" hreflang="id" href="https://docs.blender.org/manual/id/latest/" />
    <link rel="alternate" hreflang="it" href="https://docs.blender.org/manual/it/latest/" />
    <link rel="alternate" hreflang="ja" href="https://docs.blender.org/manual/ja/latest/" />
    <link rel="alternate" hreflang="ko" href="https://docs.blender.org/manual/ko/latest/" />
    <link rel="alternate" hreflang="nb" href="https://docs.blender.org/manual/nb/latest/" />
    <link rel="alternate" hreflang="pt" href="https://docs.blender.org/manual/pt/latest/" />
    <link rel="alternate" hreflang="ru" href="https://docs.blender.org/manual/ru/latest/" />
    <link rel="alternate" hreflang="sk" href="https://docs.blender.org/manual/sk/latest/" />
    <link rel="alternate" hreflang="sl" href="https://docs.blender.org/manual/sl/latest/" />
    <link rel="alternate" hreflang="sr" href="https://docs.blender.org/manual/sr/latest/" />
    <link rel="alternate" hreflang="uk" href="https://docs.blender.org/manual/uk/latest/" />
    <link rel="alternate" hreflang="vi" href="https://docs.blender.org/manual/vi/latest/" />
    <link rel="alternate" hreflang="zh-Hans" href="https://docs.blender.org/manual/zh-hans/latest/" />
    <link rel="alternate" hreflang="zh-Hant" href="https://docs.blender.org/manual/zh-hant/latest/" />
    <link rel="alternate" hreflang="x-default" href="https://docs.blender.org/manual/en/latest/" />
    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="copyright" title="Copyright" href="../../../copyright.html" />
    <link rel="next" title="Shader Nodes" href="nodes.html" />
    <link rel="prev" title="Optimizing Renders" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> Blender 3.1 Manual
            <img src="../../../_static/blender-logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../interface/index.html">User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../editors/index.html">Editors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scene_layout/index.html">Scenes &amp; Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modeling/index.html">Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sculpt_paint/index.html">Sculpting &amp; Painting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../grease_pencil/index.html">Grease Pencil</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../animation/index.html">Animation &amp; Rigging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../physics/index.html">Physics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Rendering</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../eevee/index.html">Eevee</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Cycles</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../render_settings/index.html">Render Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../world_settings.html">World Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../object_settings/index.html">Object Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../material_settings.html">Material Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../light_settings.html">Light Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gpu_rendering.html">GPU Rendering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../features.html">Experimental Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../baking.html">Render Baking</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Optimizing Renders</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Reducing Noise</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#path-tracing">Path Tracing</a></li>
<li class="toctree-l5"><a class="reference internal" href="#the-source-of-the-noise">The Source of the Noise</a></li>
<li class="toctree-l5"><a class="reference internal" href="#bounces">Bounces</a></li>
<li class="toctree-l5"><a class="reference internal" href="#caustics-and-filter-glossy">Caustics and Filter Glossy</a></li>
<li class="toctree-l5"><a class="reference internal" href="#light-falloff">Light Falloff</a></li>
<li class="toctree-l5"><a class="reference internal" href="#multiple-importance-sampling">Multiple Importance Sampling</a></li>
<li class="toctree-l5"><a class="reference internal" href="#glass-and-transparent-shadows">Glass and Transparent Shadows</a></li>
<li class="toctree-l5"><a class="reference internal" href="#light-portals">Light Portals</a></li>
<li class="toctree-l5"><a class="reference internal" href="#denoising">Denoising</a></li>
<li class="toctree-l5"><a class="reference internal" href="#clamp-fireflies">Clamp Fireflies</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="nodes.html">Shader Nodes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../workbench/index.html">Workbench</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cameras.html">Cameras</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lights/index.html">Lights</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../materials/index.html">Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../shader_nodes/index.html">Shader Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../color_management.html">Color Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../freestyle/index.html">Freestyle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../layers/index.html">Layers &amp; Passes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../output/index.html">Render Output</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../compositing/index.html">Compositing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../movie_clip/index.html">Motion Tracking &amp; Masking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../video_editing/index.html">Video Editing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../files/index.html">Assets, Files, &amp; Data System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../addons/index.html">Add-ons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../advanced/index.html">Advanced</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/index.html">Glossary</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/index.html">Contribute Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Blender 3.1 Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html">Rendering</a> &raquo;</li>
          <li><a href="../index.html">Cycles</a> &raquo;</li>
          <li><a href="index.html">Optimizing Renders</a> &raquo;</li>
      <li>Reducing Noise</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="reducing-noise">
<h1>Reducing Noise<a class="headerlink" href="#reducing-noise" title="Permalink to this headline"></a></h1>
<p>When performing a final render, it is important to reduce noise as much as possible.
Here we will discuss a number of tricks that, while breaking the laws of physics,
are particularly important when rendering animations within a reasonable time.
Click to enlarge the example images to see the noise differences well.</p>
<section id="path-tracing">
<h2>Path Tracing<a class="headerlink" href="#path-tracing" title="Permalink to this headline"></a></h2>
<p>Cycles uses path tracing with next event estimation,
which is not good at rendering all types of light effects, like caustics,
but has the advantage of being able to render more detailed and
larger scenes compared to some other rendering algorithms.
This is because we do not need to store,
for example, a photon map in memory,
and because we can keep rays relatively coherent to use an on-demand image cache,
compared to e.g. bidirectional path tracing.</p>
<figure class="align-center">
<img alt="../../../_images/render_cycles_render-settings_light-paths_rays.svg" src="../../../_images/render_cycles_render-settings_light-paths_rays.svg" /></figure>
<p>We do the inverse of what reality does,
tracing light rays from the camera into the scene and onto lights,
rather than from the light sources into the scene and then into the camera.
This has the advantage that we do not waste light rays that will not end up in the camera,
but also means that it is difficult to find some light paths that may contribute a lot.
Light rays will be sent either according to the surface BRDF,
or in the direction of known light sources.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For more details, see
the <a class="reference internal" href="../render_settings/light_paths.html"><span class="doc">Light Paths</span></a> and
<a class="reference internal" href="../render_settings/sampling.html"><span class="doc">Sampling</span></a> documentation.</p>
</div>
</section>
<section id="the-source-of-the-noise">
<h2>The Source of the Noise<a class="headerlink" href="#the-source-of-the-noise" title="Permalink to this headline"></a></h2>
<p>To understand where noise can come from, take for example the scene below.
When we trace a light ray into the location marked by the white circle on a red dot,
the second image below gives an impression of what the diffuse shader “sees”.</p>
<p>To find the light that is reflected from this surface,
we need to find the average color from all these pixels.
Note the glossy highlight on the sphere,
and the bright spot the light casts on the nearby wall. These hotspots are much brighter than
other parts of the image and will contribute significantly to the lighting of this pixel.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><figure class="align-default" id="id1">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_fisheye-reference.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_fisheye-reference.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_fisheye-reference.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">The scene.</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-default" id="id2">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_fisheye.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_fisheye.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_fisheye.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">Irradiance at the shading point.</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-default" id="id3">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_fisheye-hotspot.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_fisheye-hotspot.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_fisheye-hotspot.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">The detected highlights.</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
</tr>
</tbody>
</table>
<p>The light is a known light source, so its location is already known,
but the glossy highlight(s) that it causes are a different matter.
The best we can do with path tracing is to distribute light rays randomly over the hemisphere,
hoping to find all the important bright spots. If for some pixels we miss some bright spot,
but we do find it for another, that results in noise. The more samples we take,
the higher the probability that we cover all the important sources of light.</p>
<p>With some tricks we can reduce this noise. If we blur the bright spots,
they become bigger and less intense, making them easier to find and less noisy.
This will not give the same exact result,
but often it’s close enough when viewed through a diffuse or soft glossy reflection.
Below is an example of using <a class="reference internal" href="../render_settings/light_paths.html#bpy-types-cyclesrendersettings-blur-glossy"><span class="std std-ref">Glossy Filter</span></a>
and <a class="reference internal" href="../../shader_nodes/color/light_falloff.html"><span class="doc">Light Falloff</span></a>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><figure class="align-default" id="id4">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_fisheye-blur-reference.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_fisheye-blur-reference.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_fisheye-blur-reference.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">Using Glossy Filter &amp; Light Falloff.</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-default" id="id5">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_fisheye-blur.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_fisheye-blur.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_fisheye-blur.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">Irradiance at the shading point.</span><a class="headerlink" href="#id5" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-default" id="id6">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_fisheye-blur-hotspot.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_fisheye-blur-hotspot.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_fisheye-blur-hotspot.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">The detected highlights.</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
</tr>
</tbody>
</table>
</section>
<section id="bounces">
<h2>Bounces<a class="headerlink" href="#bounces" title="Permalink to this headline"></a></h2>
<p>In reality light will bounce a huge number of times due to the speed of light being very high.
In practice more bounces will introduce more noise, and it might be good to use something like
the Limited Global Illumination preset in the <a class="reference internal" href="../render_settings/light_paths.html#render-cycles-integrator-light-paths"><span class="std std-ref">Light Paths</span></a>
Section that uses <em>fewer</em> bounces for different shader types.
Diffuse surfaces typically can get away with fewer bounces,
while glossy surfaces need a few more,
and transmission shaders such as glass usually need the most.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><figure class="align-default" id="id7">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_0bounce.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_0bounce.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_0bounce.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">No bounces.</span><a class="headerlink" href="#id7" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-default" id="id8">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_2bounce.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_2bounce.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_2bounce.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">Two bounces at max.</span><a class="headerlink" href="#id8" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-default" id="id9">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_4bounce.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_4bounce.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_4bounce.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">Four bounces at max.</span><a class="headerlink" href="#id9" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
</tr>
</tbody>
</table>
<p>Also important is to use shader colors that do <strong>not</strong> have components of value 1.0 or
values near that; try to keep the maximum value to 0.8 or less and make your lights brighter.
In reality, surfaces are rarely perfectly reflecting all light,
but there are of course exceptions; usually glass will let most light through,
which is why we need more bounces there. High values for the color components tend to
introduce noise because light intensity then does not decrease much as it bounces off each
surface.</p>
</section>
<section id="caustics-and-filter-glossy">
<h2>Caustics and Filter Glossy<a class="headerlink" href="#caustics-and-filter-glossy" title="Permalink to this headline"></a></h2>
<p>Caustics are a well-known source of noise, causing <a class="reference internal" href="../../../glossary/index.html#term-Fireflies"><span class="xref std std-term">Fireflies</span></a>.
They happen because the renderer has difficulty finding specular highlights
viewed through a soft glossy or diffuse reflection.
There is a <a class="reference internal" href="../render_settings/light_paths.html#bpy-types-cyclesrendersettings-caustics"><span class="std std-ref">No Caustics</span></a> option
to disable glossy behind a diffuse reflection entirely.
Many renderers will typically disable caustics by default.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><figure class="align-default" id="id10">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_reference.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_reference.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_reference.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">Default settings.</span><a class="headerlink" href="#id10" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-default" id="id11">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_no-caustics.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_no-caustics.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_no-caustics.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">Caustics disabled.</span><a class="headerlink" href="#id11" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-default" id="id12">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_filter-glossy.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_filter-glossy.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_filter-glossy.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">Filter Glossy greater than zero.</span><a class="headerlink" href="#id12" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
</tr>
</tbody>
</table>
<p>However, using <em>No Caustics</em> will result in missing light,
and it still does not cover the case where a sharp glossy reflection is viewed through a soft glossy reflection.
There is a <a class="reference internal" href="../render_settings/light_paths.html#bpy-types-cyclesrendersettings-blur-glossy"><span class="std std-ref">Filter Glossy</span></a> option
to reduce the noise from such cases at the cost of accuracy.
This will blur the sharp glossy reflection to make it easier to find, by increasing the shader Roughness.</p>
<p>The above images show default settings, no caustics, and filter glossy set to 1.0.</p>
</section>
<section id="light-falloff">
<h2>Light Falloff<a class="headerlink" href="#light-falloff" title="Permalink to this headline"></a></h2>
<p>In reality light in a vacuum will always fall off at a rate of 1/(distance^2).
However, as distance goes to zero,
this value goes to infinity and we can get very bright spots in the image.
These are mostly a problem for indirect lighting, where the probability of hitting such
a small but extremely bright spot is low and so happens only rarely.
This is a typical recipe for <a class="reference internal" href="../../../glossary/index.html#term-Fireflies"><span class="xref std std-term">Fireflies</span></a>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><figure class="align-default" id="id13">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_falloff-hard.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_falloff-hard.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_falloff-hard.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">Hard Falloff.</span><a class="headerlink" href="#id13" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-default" id="id14">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_falloff-soft.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_falloff-soft.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_falloff-soft.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">Soft Falloff.</span><a class="headerlink" href="#id14" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
</tr>
</tbody>
</table>
<p>To reduce this problem, the <a class="reference internal" href="../../shader_nodes/color/light_falloff.html"><span class="doc">Light Falloff</span></a>
node has a <em>Smooth factor</em>, that can be used to reduce the maximum intensity
a light can contribute to nearby surfaces. The images above show default falloff and smooth value 1.0.</p>
</section>
<section id="multiple-importance-sampling">
<span id="render-cycles-reducing-noise-mis"></span><h2>Multiple Importance Sampling<a class="headerlink" href="#multiple-importance-sampling" title="Permalink to this headline"></a></h2>
<p>Materials with emission shaders can be configured to use
Multiple Importance Sampling (<a class="reference internal" href="../material_settings.html"><span class="doc">Material Settings</span></a>).
This means that they will get rays sent directly towards them,
rather than ending up there based on rays randomly bouncing around.
For very bright mesh light sources, this can reduce noise significantly.
However, when the emission is not particularly bright,
this will take samples away from other brighter light sources for which it is important to find them this way.</p>
<p>The optimal setting here is difficult to guess; it may be a matter of trial and error,
but often it is clear that a somewhat glowing object may be only contributing light locally,
while a mesh light used as a light would need this option enabled.
Here is an example where the emissive spheres contribute little to the lighting,
and the image renders with slightly less noise by disabling Multiple Importance on them.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><figure class="align-default" id="id15">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_sample-lamp.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_sample-lamp.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_sample-lamp.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">Multiple Importance off.</span><a class="headerlink" href="#id15" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-default" id="id16">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_no-sample-lamp.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_no-sample-lamp.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_no-sample-lamp.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">Multiple Importance on.</span><a class="headerlink" href="#id16" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
</tr>
</tbody>
</table>
<p>The world background also has a <em>Multiple Importance</em> (<a class="reference internal" href="../world_settings.html#render-cycles-integrator-world-settings"><span class="std std-ref">Settings</span></a>) option.
This is mostly useful for environment maps that have small bright spots in them, rather than being smooth.
This option will then, in a preprocess, determine the bright spots, and send light rays directly towards them. Again,
enabling this option may take samples away from more important light sources if it is not needed.</p>
</section>
<section id="glass-and-transparent-shadows">
<span id="render-cycles-reducing-noise-glass-and-transp-shadows"></span><h2>Glass and Transparent Shadows<a class="headerlink" href="#glass-and-transparent-shadows" title="Permalink to this headline"></a></h2>
<p>With caustics disabled, glass will miss shadows,
and with filter glossy they might be too soft.
We can make a glass shader that will use a Glass BSDF when viewed <em>directly</em>,
and a Transparent BSDF when viewed <em>indirectly</em>. The Transparent BSDF can be used for
transparent shadows to find light sources straight through surfaces,
and will give properly-colored shadows, but without the caustics.
The Light Path node is used to determine when to use which of the two shaders.</p>
<figure class="align-default" id="id17">
<img alt="../../../_images/render_cycles_optimizations_reducing-noise_glass-group.png" src="../../../_images/render_cycles_optimizations_reducing-noise_glass-group.png" />
<figcaption>
<p><span class="caption-text">Optimized glass shader.</span><a class="headerlink" href="#id17" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Above we can see the node setup used for the glass transparency trick;
on the left the render has too much shadow due to missing caustics,
and on the right the render with the trick.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><figure class="align-default" id="id18">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_glass-too-much-shadow.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_glass-too-much-shadow.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_glass-too-much-shadow.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">Default Glass BSDF.</span><a class="headerlink" href="#id18" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-default" id="id19">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_glass-trick.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_glass-trick.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_glass-trick.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">Optimized Glass Shader.</span><a class="headerlink" href="#id19" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
</tr>
</tbody>
</table>
</section>
<section id="light-portals">
<h2>Light Portals<a class="headerlink" href="#light-portals" title="Permalink to this headline"></a></h2>
<p>When rendering a daylight indoor scene where most of the light is coming in through a window
or door opening, it is difficult for the integrator to find its way to them.
To fix this, use <a class="reference internal" href="../light_settings.html#render-cycles-lights-area-portals"><span class="std std-ref">Light Portals</span></a>.
You then will need to modify its shape to match that of the opening that you are trying to fill.</p>
<figure class="align-default">
<img alt="../../../_images/render_cycles_light-settings_portals2.jpg" src="../../../_images/render_cycles_light-settings_portals2.jpg" />
</figure>
<figure class="align-default">
<img alt="../../../_images/render_cycles_light-settings_portals.jpg" src="../../../_images/render_cycles_light-settings_portals.jpg" />
</figure>
</section>
<section id="denoising">
<h2>Denoising<a class="headerlink" href="#denoising" title="Permalink to this headline"></a></h2>
<p>Even with all the settings described above there will always end
up being some render noise no matter how many samples you use.
To fix this there is a post-processing technique to cleanup the final bit of noise.
To use this enable <a class="reference internal" href="../render_settings/sampling.html#render-cycles-settings-viewport-denoising"><span class="std std-ref">Denoising</span></a>
in the <em>Render</em> tab of the Properties.</p>
<p>Below is an example render by
<a class="reference external" href="https://blog.thepixelary.com/post/160451378592/denoising-in-cycles-tested">The Pixelary</a>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><figure class="align-default" id="id20">
<img alt="../../../_images/render_layers_denoising_example1.jpg" src="../../../_images/render_layers_denoising_example1.jpg" />
<figcaption>
<p><span class="caption-text">Example render before denoising.</span><a class="headerlink" href="#id20" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-default" id="id21">
<img alt="../../../_images/render_layers_denoising_example2.jpg" src="../../../_images/render_layers_denoising_example2.jpg" />
<figcaption>
<p><span class="caption-text">Example render after denoising.</span><a class="headerlink" href="#id21" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
</tr>
</tbody>
</table>
</section>
<section id="clamp-fireflies">
<span id="render-cycles-reducing-noise-clamp-samples"></span><h2>Clamp Fireflies<a class="headerlink" href="#clamp-fireflies" title="Permalink to this headline"></a></h2>
<p>Ideally with all the previous tricks, <a class="reference internal" href="../../../glossary/index.html#term-Fireflies"><span class="xref std std-term">Fireflies</span></a> would be eliminated, but they could still happen.
For that, the <em>intensity</em> that any individual light ray sample will contribute to a pixel can be <em>clamped</em>
to a maximum value with the integrator <a class="reference internal" href="../render_settings/light_paths.html#render-cycles-integrator-clamp-samples"><span class="std std-ref">Clamp setting</span></a>.</p>
<p>If set too low this can cause missing highlights in the image,
which might be useful to preserve for camera effects such as bloom or glare.
To mitigate this conundrum it’s often useful to clamp only indirect bounces,
leaving highlights directly visible to the camera untouched.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><figure class="align-default" id="id22">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_no-clamp.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_no-clamp.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_no-clamp.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">No Clamp (0).</span><a class="headerlink" href="#id22" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-default" id="id23">
<a class="reference internal image-reference" href="../../../_images/render_cycles_optimizations_reducing-noise_clamp4.jpg"><img alt="../../../_images/render_cycles_optimizations_reducing-noise_clamp4.jpg" src="../../../_images/render_cycles_optimizations_reducing-noise_clamp4.jpg" style="width: 180px;" /></a>
<figcaption>
<p><span class="caption-text">With Clamp set to 4.</span><a class="headerlink" href="#id23" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Optimizing Renders" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="nodes.html" class="btn btn-neutral float-right" title="Shader Nodes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../../copyright.html">Copyright</a> : This page is licensed under a CC-BY-SA 4.0 Int. License.
      <span class="lastupdated">Last updated on 01/08/2022.
      </span></p>
  </div>

  
      <div class="footer-contribute">
         <ul>
            <li>
               <a href="https://developer.blender.org/diffusion/BM/browse/trunk/blender_docs/manual/render/cycles/optimizations/reducing_noise.rst" class="fa fa-edit"> Edit Page</a>
            </li>
            <li>
               <a href="https://developer.blender.org/maniphest/task/edit/form/default/?description=Pagename%3A%20%60render/cycles/optimizations/reducing_noise%60%0ABlender%20Version%3A%20%603.1%60%0ADocumentation%20Language%3A%20%60en%60%0A%5B%5B%20https%3A%2F%2Fdocs.blender.org%2Fmanual%2Fen%2F3.1%2Frender/cycles/optimizations/reducing_noise.html%20%7C%20Permanent%20link%20%5D%5D%0A%0A%2A%2AShort%20description%20of%20error%2A%2A%0A%5BPlease%20fill%20out%20a%20short%20description%20of%20the%20error%20here%5D&project=PHID-PROJ-c4nvvrxuczix2326vlti" class="fa fa-bug"> Report Bug</a>
            </li>
         <ul>
      </div>


</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="document versions">
<ul id="versionwrap" role="presentation">
   <li role="presentation">
		<span id="version-popover" class="version-btn" tabindex="0" role="button" aria-label="versions selector" aria-haspopup="true" aria-controls="version-vsnlist" aria-disabled="true">
		3.1 
		</span>
		<div class="version-dialog" aria-hidden="true">
			<div class="version-arrow" aria-hidden="true"></div>
			<div class="version-title">Versions</div>
			<ul id="version-vsnlist" class="version-list" role="menu" aria-labelledby="version-popover" aria-hidden="true">
				<li role="presentation">Loading...</li>
			</ul>
		</div>
	</li>
   <li role="presentation">
		<span id="lang-popover" class="version-btn" tabindex="0" role="button"  aria-label="language selector" aria-haspopup="true" aria-controls="version-langlist">
			 en 
		</span>
		<div class="version-dialog" aria-hidden="true">
			<div class="version-arrow" aria-hidden="true"></div>
			<div class="version-title">Languages</div>
			<ul id="version-langlist" class="version-list" role="menu" aria-labelledby="lang-popover" aria-hidden="true">
				<li role="presentation">Loading...</li>
			</ul>
		</div>
	</li>
</ul>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1418081-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-1418081-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>